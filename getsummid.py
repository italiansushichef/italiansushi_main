import urllib2, json, sysfrom riotwatcher import RiotWatcherif len(sys.argv) != 3:    print "Usage: python summonerids.py [max_summoners] [API_KEY]"    sys.exit(0)max_summoners = int(sys.argv[1])# inputq = []API_KEY = sys.argv[2]w = RiotWatcher(API_KEY)startid = '57361776'q.append(int(startid))# opening a json gamehistory fileif w.can_make_request() == True:    readfile = urllib2.urlopen('https://na.api.pvp.net/api/lol/na/v1.3/game/by-summoner/' + startid + '/recent?api_key=' + API_KEY)    data = json.load(readfile)    for game in data["games"]:        if game["subType"] == "RANKED_SOLO_5x5":            for player in game["fellowPlayers"]:                if player["summonerId"] not in q:                    q.append(player["summonerId"])# print qi = 1while len(q) < max_summoners:    if w.can_make_request() == True:        if i >= len(q):            print "only scraped " + str(i) + " summoners"            max_summoners = len(q)            break        # try:        readfile = urllib2.urlopen('https://na.api.pvp.net/api/lol/na/v1.3/game/by-summoner/' + str(q[i]) + '/recent?api_key=' + API_KEY)        # except:        #     print "Error"        #     print i        #     print len(q)        #     sys.exit()        data = json.load(readfile)        for game in data["games"]:            if game["subType"] == "RANKED_SOLO_5x5":                for player in game["fellowPlayers"]:                    if player["summonerId"] not in q:                        q.append(player["summonerId"])        i += 1output={'summonerids':q[:max_summoners], 'count':max_summoners}with open('static/json-data/summonerids.json', 'r+') as outfile:    filedata = json.load(outfile)    if filedata and filedata['count'] and filedata['summonerids']:        output['count'] += filedata['count']        output['summonerids'] += filedata['summonerids']        json.dump(output,outfile, indent=4)    else:        json.dump(output,outfile, indent=4)print "success"    